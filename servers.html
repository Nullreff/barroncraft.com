---
layout: default
title: Servers
description: Servers hosted by Barron Minecraft
navigation: 2
permalink: /servers/
servers:
    - name: dota 
      url: dota.barroncraft.com
      location: Fremont, California
    - name: dota2
      url: dota2.barroncraft.com
      location: Newark, New Jersey
    - name: dota3
      url: dota3.barroncraft.com
      location: London, England
---

<div class="row">
    <div id="servers"></div>
</div>

{% raw %}
<script id="server-template" type="text/x-handlebars-template">
    <div id="{{name}}" class="server span4 center">
        <h2>{{url}}</h2>
        {{#if message}}
        <div class="alert">
            {{message}}
        </div>
        {{else}}
        <p><a href="https://maps.google.com/?q={{location}}">{{location}}</a></p>
        <p class="lead">{{playerCount}} / {{maxPlayers}}</p>
        <div class="row-fluid">
            {{#each teams}}
            <div class="span6">
                <h3 style="color: {{name}}">{{#capitalize}}{{name}}{{/capitalize}}</h4>
                <ul class="unstyled players">
                    {{#each players}}
                    <li>{{this}}</li>
                    {{/each}}
                </ul>
            </div>
            {{/each}}
        </div>
        {{/if}}
    </div>
</script>
{% endraw %}

<script type="text/javascript">
    Handlebars.registerHelper('capitalize', function(options) {
        var text = options.fn(this);
        return text.charAt(0).toUpperCase() + text.slice(1);
    });

    var source   = $("#server-template").html();
    var template = Handlebars.compile(source);
    var servers = [
    {% for server in page.servers %}
        {
            name: "{{server.name}}",
            url: "{{server.url}}",
            location: "{{server.location}}"
        },
    {% endfor %}
    ];

    $.each(servers, function(i, server) {
        $.getJSON("http://" + server.url + ":25566/", function(data) {
            $.extend(data, server); // Combine properties
            var content = template(data);
            $("#servers").append(content);
        });
    });
</script>
