---
layout: default
title: Servers
description: Servers hosted by Barron Minecraft
navigation: 2
permalink: /servers/
servers:
    - name: dota 
      game: dota
      url: dota.barroncraft.com
      location: Fremont, California
    - name: dota2
      game: dota
      url: dota2.barroncraft.com
      location: Newark, New Jersey
    - name: dota3
      game: dota
      url: dota3.barroncraft.com
      location: London, England
---

<div class="row">
    <div id="servers"></div>
</div>

{% raw %}
<script id="server-template" type="text/x-handlebars-template">
<div id="{{name}}" class="row">
   <div class="server span6">
        <h2>{{url}}</h2>
        <img src="/images/{{game}}Banner.png" alt="{{game}}"/>
        {{#if message}}
        <div class="alert">
            {{message}}
        </div>
        {{/if}}
        <dl class="dl-horizontal">
            <dt>Location</dt>
            <dd><a href="https://maps.google.com/?q={{location}}">{{location}}</a></dd>
            <dt>Players</dt>
            <dd>{{playerCount}} / {{maxPlayers}}</dd>
            <dt>Ping</dt>
            <dd>{{ping}}</dd>
        </dl>
    </div>
    <div class="span6">
        {{#each teams}}
        <div class="pull-left team">
            <h3 style="color: {{name}}">{{#capitalize}}{{name}}{{/capitalize}}</h4>
            <ul class="unstyled players">
                {{#each players}}
                <li>{{this}}</li>
                {{/each}}
            </ul>
        </div>
        {{else}}
        <div>
            <div class="alert alert-info player-wait">
                Waiting for players
            </div>
        </div>
        {{/each}}
        <br class="clear"/>
    </div>
</div>
<hr/>
</script>
{% endraw %}

<script type="text/javascript">
    Handlebars.registerHelper('capitalize', function(options) {
        var text = options.fn(this);
        return text.charAt(0).toUpperCase() + text.slice(1);
    });

    var source   = $("#server-template").html();
    var template = Handlebars.compile(source);
    var servers = [
    {% for server in page.servers %}
        {
            name: "{{server.name}}",
            game: "{{server.game}}",
            url: "{{server.url}}",
            location: "{{server.location}}"
        },
    {% endfor %}
    ];

    $.each(servers, function(i, server) {
        var startTime = new Date().getTime();
        $.getJSON("http://" + server.url + ":25566/", function(data) {
            data.ping = new Date().getTime() - startTime;
            $.extend(data, server); // Combine properties
            var content = template(data);
            $("#servers").append(content);
        });
    });
</script>
